<template>
  <section :load="loading()">
    <p>{{ text }}</p>
    <svg
      class="close"
      width="34"
      height="34"
      viewBox="0 0 34 34"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      @click="CloseNotify"
    >
      <title>{{ $t('Login.close_title') }}</title>
      <path
        d="M21.9599 11.8954C21.8316 11.7647 21.6789 11.6609 21.5108 11.5901C21.3426 11.5193 21.1622 11.4828 20.9801 11.4828C20.7979 11.4828 20.6175 11.5193 20.4493 11.5901C20.2812 11.6609 20.1285 11.7647 20.0003 11.8954L16.8401 15.1037L13.6799 11.8954C13.42 11.6328 13.0676 11.4852 12.7001 11.4852C12.3326 11.4852 11.9801 11.6328 11.7203 11.8954C11.4604 12.1581 11.3144 12.5143 11.3144 12.8858C11.3144 13.2573 11.4604 13.6135 11.7203 13.8762L14.8943 17.0705L11.7203 20.2648C11.5909 20.3944 11.4882 20.5487 11.4182 20.7187C11.3481 20.8887 11.3121 21.071 11.3121 21.2551C11.3121 21.4393 11.3481 21.6216 11.4182 21.7916C11.4882 21.9615 11.5909 22.1158 11.7203 22.2455C11.8485 22.3762 12.0012 22.48 12.1693 22.5508C12.3375 22.6216 12.5179 22.6581 12.7001 22.6581C12.8822 22.6581 13.0626 22.6216 13.2308 22.5508C13.3989 22.48 13.5516 22.3762 13.6799 22.2455L16.8401 19.0373L20.0003 22.2455C20.1285 22.3762 20.2812 22.48 20.4493 22.5508C20.6175 22.6216 20.7979 22.6581 20.9801 22.6581C21.1622 22.6581 21.3426 22.6216 21.5108 22.5508C21.6789 22.48 21.8316 22.3762 21.9599 22.2455C22.0892 22.1158 22.1919 21.9615 22.2619 21.7916C22.332 21.6216 22.3681 21.4393 22.3681 21.2551C22.3681 21.071 22.332 20.8887 22.2619 20.7187C22.1919 20.5487 22.0892 20.3944 21.9599 20.2648L18.7859 17.0705L21.9599 13.8762C22.0892 13.7465 22.1919 13.5922 22.2619 13.4222C22.332 13.2523 22.3681 13.0699 22.3681 12.8858C22.3681 12.7017 22.332 12.5193 22.2619 12.3494C22.1919 12.1794 22.0892 12.0251 21.9599 11.8954ZM26.5967 7.20862C25.3237 5.87636 23.8009 4.8137 22.1172 4.08266C20.4336 3.35161 18.6227 2.96682 16.7904 2.95072C14.958 2.93463 13.1409 3.28756 11.4449 3.98892C9.74892 4.69028 8.20813 5.72603 6.91241 7.03572C5.61669 8.34542 4.592 9.90284 3.89812 11.6171C3.20425 13.3314 2.85508 15.1681 2.871 17.0203C2.88693 18.8724 3.26762 20.7028 3.99086 22.4046C4.71411 24.1064 5.76542 25.6456 7.08346 26.9323C8.35647 28.2646 9.87922 29.3272 11.5629 30.0583C13.2465 30.7893 15.0574 31.1741 16.8897 31.1902C18.7221 31.2063 20.5393 30.8534 22.2352 30.152C23.9312 29.4507 25.472 28.4149 26.7677 27.1052C28.0634 25.7955 29.0881 24.2381 29.782 22.5238C30.4759 20.8096 30.825 18.9728 30.8091 17.1207C30.7932 15.2685 30.4125 13.4382 29.6893 11.7364C28.966 10.0345 27.9147 8.49536 26.5967 7.20862ZM24.6509 24.9655C22.8459 26.792 20.4702 27.9294 17.9286 28.184C15.387 28.4385 12.8367 27.7944 10.7122 26.3615C8.58771 24.9285 7.02047 22.7954 6.2775 20.3254C5.53453 17.8555 5.66179 15.2015 6.6376 12.8158C7.61341 10.43 9.3774 8.46004 11.629 7.24148C13.8807 6.02293 16.4806 5.63118 18.986 6.13298C21.4913 6.63478 23.747 7.99909 25.3688 9.99345C26.9906 11.9878 27.878 14.4889 27.8801 17.0705C27.885 18.5369 27.6021 19.9897 27.0478 21.3449C26.4935 22.7001 25.6788 23.9307 24.6509 24.9655Z"
        fill="#EA063F"
      />
    </svg>
  </section>
</template>

<script>
import { mapState, mapMutations } from 'vuex'
export default {
  data() {
    return {
      timeout: '',
    }
  },
  computed: {
    ...mapState({
      text: (state) => state.Notification.text,
      View: (state) => state.Notification.view,
    }),
  },
  methods: {
    ...mapMutations({
      CloseNotify: 'Notification/CloseNotify',
    }),

    loading() {
      this.timeout = setTimeout(() => {
        this.CloseNotify()

        clearTimeout(this.timeout)
      }, 3000)
    },
  },
}
</script>

<style lang="scss" scoped>
section {
  width: 80%;
  min-height: 40px;
  height: fit-content;

  background-color: #fff;
  color: black;

  display: flex;
  align-items: center;
  justify-content: space-between;

  position: absolute;
  top: 10px;
  left: 0;
  right: 0;

  border-radius: 10px;
  margin: 0 auto;
  padding: 10px;

  font-size: 17px;
  font-weight: bold;

  z-index: 999;

  p {
    width: 85%;
    height: fit-content;
  }

  svg {
    min-width: 25px;
    max-width: 25px;
    min-height: 25px;
    max-height: 25px;

    cursor: pointer;

    &:hover {
      transform: rotate(360deg);
      transition: transform 0.7s ease-in-out;
    }
  }
}
</style>
